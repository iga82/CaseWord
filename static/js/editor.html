<!DOCTYPE html>
<html>

<head>
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script src="http://code.jquery.com/jquery-migrate-1.1.1.min.js"></script>
</head>

<body>
	<style type="text/css">
		#left{
			width: 40%;
			height: 100px;
			border-style: solid;
			position: fixed;
		}
		#right{
			width: 40%;
			height: 600px;
			margin-left: 50%;
			border-style: solid;
			position: fixed;
		}
	</style>
	<script>
	    function getSelectionText() {
	    	//get the selection text
	        var text = "";
	        if (window.getSelection) {
	            text = window.getSelection().toString();
	        } else if (document.selection && document.selection.type != "Control") {
	            text = document.selection.createRange().text;
	        }
                // Copy selected text
	       	document.getElementById("selected").innerHTML = text;

	       	var sel, range, tempRange, before = "";
	       	
	       	if (typeof window.getSelection != "undefined"){
                        // Get selection object (type == range)
	       		sel = window.getSelection();
	       		if (sel.rangeCount){range = sel.getRangeAt(0);}
	       		else {
	       			range = document.createRange();
	       			range.collapse(true);
	       		}
	       		tempRange = document.createRange();
	       		tempRange.selectNodeContents(document.body);
	       		tempRange.setEnd(range.startContainer, range.startOffset);
                        // text before selection
	       		before = tempRange.toString();
	       		tempRange.detach();
	       	}
	       	else if ( (sel = document.selection) && sel.type != "Control"){
	       		range = sel.createRange();
	       		temmpRange = document.body.createTextRange().text;
	       		tempRange.moveToElementText(document.body);
	       		tempRange.setEndPoint("EndToStart", range);
                        // Ibid
	       		before = tempRange.text;
	       	}

			before = before.split("").reverse().join("");
                        // Match page range
			var pattern = /[0-9]+\*/;
			var result = String(before.match(pattern));
			result = result.split("").reverse().join("");
                        // Drop asterix
			result = result.substring(1);
                        // Store previous page result
	       	        document.getElementById("before").innerHTML = result;
                        // Repeat to find page numbers within selection
                        text = text.split("").reverse().join("");
                        var selection_result = text.match(pattern)
                        if (selection_result) {
                            selection_result = selection_result.pop()
                            selection_result = selection_result.split("").reverse().join("").substring(1)
                        }
                        document.getElementById("end_page").innerHTML = selection_result
                        return {'start_page': result, 'end_page': selection_result}
	    }

	    $(document).ready(function (){
	       $('div').mouseup(function (e){
	           getSelectionText();
	       })
	    });
	</script>

<div id="right">
    *665 disabled contestant may be denied the use of a golf cart because it would “fundamentally alter the nature” of the tournaments, § 12182(b)(2)(A)(ii), to allow him to ride when all other contestants must walk. I Petitioner PGA TOUR, Inc., a nonprofit entity formed in 1968, sponsors and cosponsors professional golf tournaments conducted on three annual tours. About 200 golfers participate in the PGA TOUR; about 170 in the NIKE TOUR1; and about 100 in the SENIOR PGA TOUR. PGA TOUR and NIKE TOUR tournaments typically are 4–day events, played on courses leased and operated by petitioner. Most participants, however, earn playing privileges in the PGA TOUR or NIKE TOUR by way of a three-stage qualifying tournament known as the “Q–School.” Any member of the public may enter the Q–School by paying a $3,000 entry fee and submitting two letters of reference *666 from, among others, PGA TOUR or NIKE TOUR members. The $3,000 entry fee covers the players' greens fees and the cost of golf carts, which are permitted during the first two stages, but which have been prohibited during the third stage since 1997. Each year, over a thousand contestants compete in the first stage, which consists of four 18–hole rounds at different locations. *667 Approximately half of them make it to the second stage, which also includes 72 holes. Around 168 players survive the second stage and advance to the final one, where they compete over 108 holes. Of those finalists, about a fourth qualify for membership in the PGA TOUR, and the rest gain membership in the NIKE TOUR. The significance of making it into either tour is illuminated by the fact that there are about 25 million golfers in the country.2
</div>
<div id ="left">
	<p id = "selected"></p>
	<p id = "before"></p>
        <p id = "end_page"></p>
</div>

</body>
</html>




